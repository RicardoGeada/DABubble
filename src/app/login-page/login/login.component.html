<div class="login-container">
    @if (isLoading) {<mat-progress-bar mode="indeterminate"></mat-progress-bar>}
        
    <h1>Anmeldung</h1>

    <p>{{ infoText }}</p>

    <form action="">
        <div>
            <img class="iconOverlay" [src]="iconSrc" alt="">
            <input (keyup.enter)="login()" [(ngModel)]="loginEmail" (focus)="changeIcon(true)" (blur)="changeIcon(false)" type="email" class="fs-18" #email="ngModel" pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$" ngModel required name="loginEmail" id="loginEmail" placeholder="beispielname@email.com">
            <p *ngIf="!email.valid && email.touched || error" class="errorMsg">*Diese E-Mail-Adresse ist leider ungültig.</p>
        </div>

        <div>
            <img class="iconOverlay" [src]="passwSrc" alt="">
            <input (keyup.enter)="login()" [(ngModel)]="loginPassword" (focus)="changePasswIcon(true)" (blur)="changePasswIcon(false)" type="password" class="fs-18" #password="ngModel" ngModel required name="loginPassword" id="loginPasswort" placeholder="Passwort">
            <p *ngIf="!password.valid && password.touched || error" class="errorMsg">Falsches Passwort. Bitte noch einmal versuchen.</p>
        </div>
        
    </form>
    

    <a class="pw-forgot" [routerLink]="['/login-page/check-email']">Passwort vergessen?</a>

    <div class="spacer"><p>ODER</p></div>

    <button (click)="loginWithGoogle()" class="google-btn"><img src="assets/img/google.png" alt="">Anmelden mit Google</button>

    <div class="login-btns">
        <button (click)="login()" class="btn-primary fs-18">Anmelden</button>

        <button (click)="loginAsGuest()" class="btn-secondary fs-18">Gäste-Login</button>
    </div>

</div>